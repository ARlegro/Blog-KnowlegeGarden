---
{"dg-publish":true,"permalink":"/Computer_Science/Computer System/chapter11-네트워크/함수들 정리/구현하면서 썼던 함수들 정리/","noteIcon":"","created":"2025-09-01T13:46:38.867+09:00","updated":"2025-09-05T01:48:16.353+09:00"}
---



### snprintf 

> [!INFO] snprintf 함수 
> - 형식화된 문자열을 목적지에 최대 n byte까지 써주고 null 종료를 보장 
> - `strcpy`의 대안 : `strcpy`는 버퍼 크기 검사 없이 복사 => 오버플로우 자주 일어남
> - 반환 값
> 	- 성공 시 : 전체 글자 수 반환 (null 문자 미포함)
> 	- 오류 시 : 음수 반환 
```c
snprintf(*목적지, 사이즈(n), 형식, ....)
snprintf(buf, sizeof(buf), "Hello %s", name);

/* Maximum chars of output to write in MAXLEN.  */
extern int snprintf (char *__restrict __s, size_t __maxlen, const char *__restrict __format, ...)
```



### memmove 
> 메모리를 이동시키는 함수 

```c
#include <string.h>

void *memmove(void *dest, const void *src, size_t num);
```
1. `dest` : **붙여 넣을 메모리를** 가리키는 포인터
2. `src` : **복사 할 메모리**를 가리키는 포인터 
3. `num` : 복사할 byte 길이

메모리를 src에서 dest로 num byte길이만큼 복사하는 함수 

연습 예시
```c
#include <stdio.h>
#include <string.h>

int main(void){
  int origin[] = {1, 2, 3, 4, 5};
  int dest[5];  
  // long unsigned int 출력방식 : %lu

  printf("origin size = %lu\n", sizeof(origin)); // 20
  memmove(dest, origin, sizeof(origin));
  for (int i = 0; i < 5; i++){
    printf("%d ", dest[i]);
  }
  printf("\n");

  return 0;
}
// origin size = 20
// 1 2 3 4 5
```


>[!tip] vs memcpy
>- **겹치는 영역 (overlap)을 안전하게 처리** 가능 
>- 만약, 메모리 내에서 앞으로/뒤로 or 삽입/삭제가 일어날 시 유용 


### memcpy
```c
#include <string.h>

void *memcpy(void *dest, const void *src, size_t n);
```
- `dest` : 데이터를 복사할 목적지 메모리 주소
- `src` : 원본 메모리 주소 
- `n` : 복사할 byte 수 
- *Return* : `*dest`

### strcmp

> 대소문자를 구분하지 않고 string1, 2를 최대 n 바이트까지 비교 

```c
#include <strings.h>

```


### strchr (문자열 하나 찾기)
> 문자열 내에 **일치하는 문자가 있는지 검사**하는 함수 

```c
strchr(const char* str, int c);
```
- `str` : 검색할 문자열
- `c` : 존재하는지 확인할 문자 
- *Return*
	- 💚있으면 : 해당문자가 존재하는 포인터 반환 
	- 😞없으면 : `NULL`


```C
#include <stdio.h>
#include <string.h>
  
int main(void){
  char uri[] = " http://example.com/index.html ";
  char *ptr = strchr(uri, ':');  
  printf("%s\n", ptr); // ://example.com/index.html(: 도 포함)

  if (ptr) {
    memmove(uri, ptr, strlen(ptr) + 1);;
    printf("%s\n", uri);
  }
  return 0; 
}
```

### strstr (부분 문자열 찾기)
> 문자열 내에 **일치하는 문자열이 있는지 검사**하는 함수 


```c 
#include <string.h>  
char *strstr(const char *str1, const char *str2);
```

- *Return*
	- 💚있으면 : str1에서 st2가 시작하는 위치를 가리키는 포인터
	- 😞없으면 : `NULL`

### strcpy

> 문자열을 복사하는 함수 

```c
#include <string.h>
/* Copy SRC to DEST.  */
extern char *strcpy (char *__restrict __dest, const char *__restrict __src)
```
- dest : 복사될 문자열이 저장될 대상 문자열 버퍼 포인터
- src : 복사할 원본 문자열 포인터 

> [!WARNING] 사이즈를 몰라서 오버플로우 위험 존재 

### strncpy

> 소스 문자열의 내용을 지정된 크기(n)만큼 대상 버퍼에 복사하는 함수
```c
#include <string.h>  
char *strncpy(char *dest, const char *src, size_t n);
```


### Open_clientfd(hostname, port)

CS:APP에서 제공하는 Wrapper 함수이다.

하는 일 
1. `getaddrinfo(host, port)`로 DNS/주소 해석
2. `socket()` 생성 
3. `connect()` 시도 ➡ 성공 시 연결된 소켓 fd 반환 



### 쓰레드 함수들 
참고 : [[Computer_Science/Computer System/chapter11-네트워크/함수들 정리/Posix 쓰레드 라이브러리 함수들\|Posix 쓰레드 라이브러리 함수들]]

### Lock 관련 함수들 
참고 : [[Computer_Science/Computer System/chapter11-네트워크/함수들 정리/Lock 관련 함수들\|Lock 관련 함수들]]