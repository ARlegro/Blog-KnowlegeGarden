---
{"dg-publish":true,"permalink":"/Computer_Science/C언어, 자료구조, 알고리즘/키워드공부/B -Tree/","noteIcon":"","created":"2025-08-08T10:37:15.761+09:00","updated":"2025-08-18T01:07:44.450+09:00"}
---



자가 균형 탐색 트리의 일종 

참고 자료 : [[DevStudy/DB/Fundamentals of DB engineering/Indexing/Key vs Non-Key column Index\|Key vs Non-Key column Index]]

자녀 노드를 3개를 갖고 싶다면?

### B- Tree 란?
#### 개념 
> 디스크 같은 저장장치에 최적화된 **다분기 균형 탐색 트리** 

![Pasted image 20250808105334.png](/img/user/supporter/image/Pasted%20image%2020250808105334.png)

#### 파라미터 (설정값)
트리의 형태와 성능은 설정을 할 수 있는데 이러한 설정값들을 파라미터라고 한다. **핵심 파라미터 종류**는 아래와 같다
1. **차수(Order)** - m 
	- **개념** : 하나의 노드가 가질 수 있는 **최대 자식 노드의 개수** 
	- m이라고 표현하는 것이 관례 
	- 차수가 m이면 
		- 최대 key 개수 : m-1 
		- 최소 key 개수 : $2/m - 1$
		- 최소 자식 포인터 개수 : $2/m$
		- 최대 자식 포인터 개수 : m 
		  
2. **페이지 크기** - DB에서 많이 나오는 개념
	- 하나의 노드가 디스크에서 차지하는 물리적인 크기 
	- 보통 DB사용 시 B트리의 **노드 크기를 디스크의 블록(페이지)크기와 일치하도록** 설정 
		- 디스크는 데이터를 읽어올 때 블록 단위로 읽어 오기에 노드 크기와 페이지 크기를 맞추면 **한 번의 I/O연산으로 노드 전체 값을 읽어올 수 있다.** ✅ (+ 높이도 작아서 I/O 횟수 최소화)
		  
3. **최소 차수 (t)**
	- 노드의 키가 이 값 아래로 떨어지면 merge발생
	- 이는 균형이 깨지는 것을 방지하는 것 



### 특징

#### 특징 1. 하나의 노드에 여러 개의 키와 여러 개의 자식 포인터를 가질 수 있다.
 - 자녀 노드의 수를 늘리려면 부모 노드에 Key를 늘려야 함 
 - **key의 역할** : 자식들의 **데이터 범위를 결정**하는 Separator(구분점?)
	 - 예를 들어, 부모 노드가 `[10,20]`이라는 키가 있다면 자식 노드를 3개 가질 수 있다. 
		 - 첫 번째 자식 노드 : 10보다 작은 key들을 저장
		 - 두 번째 자식 노드 : 10과 50 사이의 key들을 저장
		 - 세 번째 자식 노드 : 50보다 큰 key들을 저장
 - key들은 **항상 오름차순으로 정렬**되어 있다
 - 이렇게 되면, B트리는 **노드의 크기를 크게** 만든다.
 - 자식이 M개면은 그 트리를 "**M차 B트리**"라고 한다 


> [!WARNING] "부모의 key 수"와 "자녀 노드의 수"는 같을 수 없다
> 부모 노드의 key 수가 x라면 자녀 노드의 수는 **언제나 x+1** 

#### 특징 2. 높이가 낮다 
- **노드에 많은 키를 저장할 수 있기 때문**에 가능한 것 
- **장점** : 데이터를 찾기 위해 거쳐야 하는 노드 수가 적어진다.


#### 특징 3. 항상 균형을 유지한다 
- B 트리는 데이터가 추가되거나 삭제될 때 항상 균형을 유지하려고 한다.
- 모든 리프 노드들을 같은 깊이에 있도록 관리하는 편 
	- 균형 유지의 핵심 : 분할 (예시에서 나옴)

- **균형 유지의 장점**
	- 특정 부분으로 트리가 깊어지지 않기 때문에 더 많은 노드를 방문해야 할 일이 없어진다.
	- 또한, 트리의 깊이가 일정하기 때문에 데이터 **접근 시간이 예측 가능**하다
	> [!QUESTION] 어떻게 균형을 유지하는가? => 이거는 예시에서 ㄱ 

> [!WARNING] cf. 이진 탐색 트리 － 하나의 노드에 하나의 키 + 2개의 자식

## 연산 과정 

삽입/삭제 이런건 필요하다고 생각하면 나중에 공부 ㄱ 
