---
{"dg-publish":true,"permalink":"/DevStudy/Argorithm/DP, Greedy/ë¬¸ì œí’€ì´/ë°±ì¤€ 2253-ì í”„ (ë‹¤ë¥¸ ë‹µ ë‚˜ì¤‘ì— ë¶„ì„í•˜ê¸°)/","noteIcon":"","created":"2025-12-03T14:52:51.892+09:00","updated":"2025-12-09T17:19:42.378+09:00"}
---

[

>[!SUCCESS]  ë°˜ì„±ê³µ
>- ì„¤ê³„ë‘ êµ¬í˜„ ë‹¤í•˜ê³  í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ëŠ” í†µê³¼í–ˆëŠ”ë°, ì˜ˆì™¸ë¥¼ ëª» ì°¾ì•„ì„œ ê·¸ ë¶€ë¶„ë§Œ GPTí•œí…Œ ë„ì›€ì„ ë°›ì•˜ë‹¤.

### ë¦¬ë·° ì´ìœ  
ë‹¤ í’€ê³  ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ë‹µì„ ë³´ë‹ˆ ë” ê°„ê²°í•˜ê²Œ ë‹¤ë¥¸ ë°©ì‹(BFS)ìœ¼ë¡œ í‘¸ëŠ” ì‚¬ëŒë“¤ë„ ìˆê¸¸ë˜ í•œë²ˆ ë¦¬ë·°í•˜ê³  ì‹¶ì—ˆë‹¤. (+ GPTê°€ ì£¼ëŠ” ì½”ë“œë„ ë¶„ì„í•´ë³´ê³ ì) 

### ë¬¸ì œ 
[BOJ 2253 - ì í”„](https://www.acmicpc.net/problem/2253)
- ëŒë“¤ì´ ê°™ì€ ê°„ê²©ìœ¼ë¡œ ìˆë‹¤
- **ëª©í‘œ** : ëŒë“¤ ì‚¬ì´ë¥¼ ì í”„í•˜ë©´ Në²ˆì§¸ ëŒë¡œ ì´ë™í•˜ëŠ” ê²ƒ
- **ì¡°ê±´** 
	- ì´ë™ì€ ì•ìœ¼ë¡œë§Œ ê°€ëŠ¥ 
	- ì²˜ìŒ ì í”„ëŠ” í•œ ì¹¸ë§Œ ê°€ëŠ¥ 
	- ê·¸ ë‹¤ìŒ ì í”„ë¶€í„°ëŠ” **ê°€ì†/ê°ì† ì í”„ ê°€ëŠ¥** (x-1ì¹¸ or xì¹¸ or x+1ì¹¸)
	- í¬ê¸°ê°€ ì‘ì€ ëŒë“¤ì€ ë„˜ì–´ê°€ì•¼ í•œë‹¤.(ì„œìˆì„ ìˆ˜ ì—†ìŒ)
- **ì¶œë ¥** : Në²ˆì§¸ ëŒê¹Œì§€ ê°€ê¸° ìœ„í•´ í•„ìš”í•œ ìµœì†Œì˜ ì  í”„ íšŸìˆ˜ 
	- ë¶ˆê°€ëŠ¥ì¼ ê²½ìš° : -1 ì¶œë ¥ 


### ë‚´ê°€ í‘¼ ë‹µ

#### 1. ì•„ì´ë””ì–´ 
![Pasted image 20250805094049.png](/img/user/supporter/image/Pasted%20image%2020250805094049.png)
- ìš°ì„ , **2ì°¨ì› ë°°ì—´ë¡œ DPë¥¼** ë§Œë“¤ì–´ì•¼ê² ë‹¤ê³  ìƒê°í–ˆë‹¤
	- ì´ìœ  : íŠ¹ì • ëŒì˜ ìœ„ì¹˜ì— íŠ¹ì • ê°€ì†ë„ë¡œ ë„ì°©í–ˆì„ ë•Œì˜ ì í”„ ìˆ˜ë¥¼ ìºì‹œí•´ì•¼í•œë‹¤ê³  ìƒê°. 
- `dp[1][2]` ëŠ” 1ë¡œ ì„¸íŒ… 
	- ì²« ì í”„ëŠ” ë¬´ì¡°ê±´ 1ì´ë‹ˆ ë‘ë²ˆ ì§¸ ëŒë¡œ ì í”„í•˜ëŠ” ìˆ˜ëŠ” 1
- **ê¸ˆì§€ëœ ì˜ì—­ ì²˜ë¦¬** 
	- í•˜ì–€ìƒ‰ ì˜ì—­ìœ¼ë¡œ ì²˜ë¦¬ 
- **ë¶ˆê°€ëŠ¥ ì˜ì—­ ì²˜ë¦¬**
	- ë¬¼ë¦¬ì ìœ¼ë¡œ íŠ¹ì • ê°€ì†ë„ë¡œëŠ” ëª» ê°€ëŠ” ë¶€ë¶„ì„ ë¶ˆê°€ëŠ¥ ì²˜ë¦¬í–ˆë‹¤ (ì½”ë“œì—ì„œëŠ” `float('inf')`)
	- ì˜ˆë¥¼ ë“¤ì–´, ê°€ì†ë„ëŠ” ì í”„ë§ˆë‹¤ 1ì”© ì¦ê°€í•  ìˆ˜ ìˆëŠ”ë° 5ì— ë„ë‹¬í•˜ê¸° ì „ì—ëŠ” ì ˆëŒ€ ê°€ì†ë„ê°€ 3ì´ ë  ìˆ˜ ì—†ë‹¤.
		- 1ë²ˆ â¡ 2ë²ˆìœ¼ë¡œ(ì í”„1, ê°€ì†ë„1)
		- 2ë²ˆ â¡ 4ë²ˆìœ¼ë¡œ(ì í”„2, ê°€ì†ë„2)
		- ì¦‰, 5ë²ˆëŒê¹Œì§€ëŠ” ì ˆëŒ€ ê°€ì†ë„ 3ì´ ë  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒ. 
		- ì´ë ‡ê²Œ ì˜ˆì™¸ë¶€ë¶„ì„ ì°¾ì•„ì„œ ìˆœíšŒí•˜ë©´ í›¨ì”¬ ë” ë¹ ë¥¸ ì„±ëŠ¥ì´ ë‚˜ì˜¬ê±°ë¼ê³  ìƒê° 
		  
- `dp[i][j]` = `min(dp[i-1][j-i], dp[i][j-i]) + 1`
	- íŠ¹ì • ê°€ì†ë„ë¡œ íŠ¹ì • ëŒì— ë„ì°©í–ˆë‹¤ëŠ” ê²ƒ = í˜„ì¬ ê°€ì†ë„ë§Œí¼ ì „ì˜ ì í”„ ìˆ˜ + 1 

>[!danger] ì˜ˆì™¸ì²˜ë¦¬ ëª» í–ˆë˜ ë¶€ë¶„
> - ë‹¤ìŒ Rowì—ì„œ ì´ì „ Row ê°’ì„ í–¥í•´ì„œ ê°ì†í•˜ëŠ” ë¶€ë¶„ ì²˜ë¦¬ê°€ ì•ˆë˜ì„œ ë²„ê·¸ê°€ ë‚¬ë‹¤.
> - ë³€ê²½ ì „ ê¸°ì¡´ ì½”ë“œëŠ” ì•„ë˜ì˜ 3ê°€ì§€ ê²½ìš°ë§Œ ê³ ë ¤í•œ ì½”ë“œì˜€ë‹¤
> 	1) ì†ë„ ë³€í™” ì—†ì´ íŠ¹ì • ëŒ ë„ì°© ê²½ìš°  
> 	2) ì´ì „ ì†ë„ + 1 ë¡œ íŠ¹ì • ëŒ ë„ì°© ê²½ìš°
> -  ğŸ’¢ì¦‰, **ê°ì†í•´ì„œ ëŒì•„ì˜¤ëŠ” ê²ƒ(ë” ë‚®ì€ rowë¡œ)ì„ ê³ ë ¤í•˜ì§€ ì•Šì•˜ë‹¤**.


>[!tip] ì˜ˆì™¸ì²˜ë¦¬ í•´ê²° ë¶€ë¶„
>- ì²˜ìŒì—ëŠ” ë‚®ì€ ROWë¶€í„° ìˆœíšŒí•˜ëŠ” ê¸°ì¡´ ë¡œì§ì´ ëë‚˜ë©´ ë†’ì€ ROWë¶€í„° ìˆœíšŒí•´ì„œ ê°ì†ì½”ë“œë¥¼ ì§œì•¼í•˜ë‚˜.... ë¼ê³  ìƒê°í–ˆë‹¤.
>- ê·¼ë° ìƒê°í•´ë³´ë‹ˆ ë†’ì€ ROWì˜ ì í”„ ìˆ˜ë¥¼ ê°±ì‹ í•˜ê³  ë‚˜ì„œ ê·¸ Rowì˜ (ê°€ì†ë„ - 1) ROWë¥¼ ê°±ì‹ í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê³  ë„ì…í–ˆë‹¤.
```PYTHON
Â  Â  ## ì´ì „ ìŠ¤í”¼ë“œ rowë„ ê°±ì‹ 
Â  Â  prev_speed_cur = cur + prev_speed
Â  Â  if prev_speed_cur == target_stone: #nd dp[speed][cur] != float
Â  Â  Â  dp[prev_speed][prev_speed_cur] = min(dp[prev_speed][prev_speed_cur], dp[speed][cur] + 1)

Â  Â  ## ë‹¤ìŒ speed rowë„ ê°±ì‹ 
Â  Â  next_speed_cur = cur + next_speed
Â  Â  if next_speed < max_speed and next_speed_cur < col and next_speed_cur not in small_stones:
Â  Â  Â  dp[next_speed][next_speed_cur] = min(dp[next_speed][next_speed_cur], dp[speed][cur] + 1)
```

#### 2. ì œì¶œ ì½”ë“œ 
```python
import sys
input = sys.stdin.readline

target_stone, small_stone_count = map(int, input().split())
small_stones = set([int(input()) for _ in range(small_stone_count)])

if 2 in small_stones:
Â  print(-1)
Â  sys.exit()

max_speed = int((2*target_stone) ** 0.5) + 2
col = target_stone + 1
dp = [[float('inf')] * col for _ in range(max_speed)]

dp[1][2] = 1
#dp[0][1] = 0

start = 1
for speed in range(1, max_speed):
Â  start = start + speed Â 

Â  for cur in range(start, col):
Â  Â  if cur in small_stones:
Â  Â  Â  continue

Â  Â  prev_pos = cur - speed
Â  Â  if prev_pos <= 0:
Â  Â  Â  continue

Â  Â  # ì†ë„ ìœ ì§€í•˜ë©´ ë„ì°© ì‹œ? (cur-speedë¥¼ ìœ„ì—ì„œ ì´ë¯¸ ì²˜ë¦¬í•˜ê¸´ í–ˆëŠ”ë°...)
Â  Â  if dp[speed][prev_pos] != float('inf'):
Â  Â  Â  dp[speed][cur] = min(dp[speed][cur], dp[speed][prev_pos] + 1)

Â  Â  # ì´ì „ ìŠ¤í”¼ë“œì—ì„œ -1 í•˜ê³  dp[speed][cur]ì— ë„ë‹¬í•œ ê²½ìš°
Â  Â  prev_speed = speed -1
Â  Â  if prev_speed > 0 and dp[prev_speed][prev_pos] != float('inf'):
Â  Â  Â  dp[speed][cur] = min(dp[speed][cur], dp[prev_speed][prev_pos] + 1)

Â  Â  # ì´ì „ ìŠ¤í”¼ë“œì—ì„œ +1 í•˜ê³  dp[speed][cur]ì— ë„ë‹¬í•œ ê²½ìš° Â  Â 
Â  Â  next_speed = speed + 1
Â  Â  if next_speed < max_speed and dp[next_speed][prev_pos] != float('inf'):
Â  Â  Â  dp[speed][cur] = min(dp[speed][cur], dp[next_speed][prev_pos] + 1)

Â  Â  ## ì´ì „ ìŠ¤í”¼ë“œ rowë„ ê°±ì‹ 
Â  Â  prev_speed_cur = cur + prev_speed
Â  Â  if prev_speed_cur == target_stone: #nd dp[speed][cur] != float
Â  Â  Â  dp[prev_speed][prev_speed_cur] = min(dp[prev_speed][prev_speed_cur], dp[speed][cur] + 1)

Â  Â  ## ë‹¤ìŒ speed rowë„ ê°±ì‹ 
Â  Â  next_speed_cur = cur + next_speed
Â  Â  if next_speed < max_speed and next_speed_cur < col and next_speed_cur not in small_stones:
Â  Â  Â  dp[next_speed][next_speed_cur] = min(dp[next_speed][next_speed_cur], dp[speed][cur] + 1)

answer = float('inf')
for i in range(max_speed):
Â  if dp[i][target_stone] < answer:
Â  Â  answer = dp[i][target_stone]

if answer == float('inf'):
Â  print(-1)
else:
Â  print(answer)
```

**ë§Œë“¤ê³  ë‚˜ë‹ˆ ì•„ì‰¬ì› ë˜ ì ** 
- í•˜ë‚˜ì˜ ë£¨í”„ì—ì„œ ì—¬ëŸ¬ ë°©í–¥ì˜ ì˜ì¡´ì„±ì„ ì²˜ë¦¬í•˜ë‹¤ ë³´ë‹ˆ ì½”ë“œê°€ ë³µì¡í•´ì§„ë‹¤ëŠ” ëŠë‚Œì„ ë°›ì•˜ë‹¤.
- ì´ë¥¼ ì–´ì¼€ í•´ê²°í• ê¹Œ? í–ˆë‹¤.
- ìƒê°í•´ë³´ë‹ˆ ìœ„ì˜ ì½”ë“œë¥¼ ë³´ë©´, **ì´ì „ Speedë¥¼ ê¸°ì¤€ìœ¼ë¡œ í˜„ì¬ `d[i][j]`ë¥¼ ê°±ì‹ í•˜ê³  ì¶”ê°€ë¡œ í˜„ì¬ speedë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‹¤ìŒ í¬ì§€ì…˜ ê°’ì„ ê°±ì‹ **í•˜ê³  ìˆì—ˆë‹¤.
- ì´ëŸ° ë¶€ë¶„ì´ **ì¤‘ë³µ**ëœë‹¤ê³  íŒë‹¨ë˜ì–´ ê°±ì‹ í•´ë³´ì 


#### 3. ë¦¬íŒ©í† ë§ ì½”ë“œ 

**âŒë²„ê·¸ ë°œìƒ ì½”ë“œ** 
- ì´ì¤‘ forë¬¸ì„ ì‚¬ìš©í•˜ëŠ”ë° ë‚˜ì˜ ì½”ë“œëŠ” ì£¼ë¡œ ì²« forë¬¸ì„ rowë¡œ í–ˆë‹¤.
- ê·¸ë ‡ê²Œ í•˜ë‹¤ë³´ë‹ˆ ë‹¤ìŒ rowì—ì„œ ì†ë ¥ì´ ì¤„ì–´ë“œëŠ” ê²½ìš°ì˜ ì˜ˆì™¸ì²˜ë¦¬ê°€ í•„ìš”í•´ì¡Œë‹¤(ë§Œì•½ ê·¸ ì½”ë“œë¥¼ ì“°ë©´ ê¸°ì¡´ ì½”ë“œë‘ ë³„ ë‹¤ë¥¸ê²Œ ì—†ë‹¤ê³  íŒë‹¨)
```python

# ... ìƒëµ 
# âŒ ë²„ê·¸ê°€ ë°œìƒí•˜ëŠ” ì½”ë“œ 
max_speed = int((2*target_stone) ** 0.5) + 2
col = target_stone + 1
dp = [[float('inf')] * col for _ in range(max_speed)]

dp[1][2] = 1
start = 1
for cur_speed in range(1, max_speed):
Â  start = start + cur_speed Â 
Â  for cur_pos in range(start, col):
Â  Â  if cur_pos in small_stones:
Â  Â  Â  continue
Â  Â  # í˜„ì¬ ì†ë„ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë‹¤ìŒ posë¥¼ ê°±ì‹ í•œë‹¤
Â  Â  for add in (-1, 0, 1):
Â  Â  Â  next_speed = cur_speed + add

Â  Â  Â  # ì†ë„ê°€ ë¹„ì •ìƒì ì¼ ë–„
Â  Â  Â  if not (0 < next_speed < max_speed):
Â  Â  Â  Â  continue
Â  Â  Â  next_pos = cur_pos + next_speed
Â  Â  Â  # colì´ ë²”ìœ„ ë°– or ê¸ˆì§€ëœ ëŒ
Â  Â  Â  if not (0 < next_pos < col) or next_pos in small_stones:
Â  Â  Â  Â  continue
Â  Â  Â  dp[next_speed][next_pos] = min(dp[next_speed][next_pos], dp[cur_speed][cur_pos] + 1)
```


**âœ…ì˜¬ë°”ë¥¸ ì½”ë“œ** 
ë‹¤ìŒ rowì˜ ìƒí™©ì„ ìµœëŒ€í•œ ë°˜ì˜í•˜ê¸° ìœ„í•´ì„œëŠ” **ì²« forë¬¸ì„ colì„(ëŒì˜ ìœ„ì¹˜) ê¸°ì¤€ìœ¼ë¡œ** í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.
> ì•„ë˜ì˜ ì‚¬ì§„ì²˜ëŸ¼ ì²« forë¬¸ì„ ìœ„ ì•„ë˜ë¡œ í›ëŠ” ê²ƒ 

![Pasted image 20250805112015.png](/img/user/supporter/image/Pasted%20image%2020250805112015.png)

```python
import sys
input = sys.stdin.readline

target_stone, small_stone_count = map(int, input().split())
small_stones = set([int(input()) for _ in range(small_stone_count)])

if 2 in small_stones:
Â  print(-1)
Â  sys.exit()

max_speed = int((2*target_stone) ** 0.5) + 2
col = target_stone + 1
dp = [[float('inf')] * col for _ in range(max_speed)]


#############################################################################
possible_start = [0] * max_speed
for s in range(1, max_speed):
Â  possible_start[s] = (s*(s+1) // 2) + 1

dp[1][2] = 1

start = 1
for cur_pos in range(1, col):

	if cur_pos in small_stones:
Â  Â  Â  continue
Â  Â  Â  
Â  for cur_speed in range(1, max_speed):
Â  Â  # ë’¤ speedëŠ” ë‹¹ì—°íˆ cur_posì— ëª»ê°€ë‹ˆ ì•ˆìª½ forë¬¸ break
Â  Â  if cur_pos < possible_start[cur_speed]:
Â  Â  Â  break
Â  Â  Â  
Â  Â  # í˜„ì¬ ì†ë„ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë‹¤ìŒ posë¥¼ ê°±ì‹ í•œë‹¤
Â  Â  for ds in (-1, 0, 1):
Â  Â  Â  next_speed = cur_speed + dsÂ  Â  Â  
Â  Â  Â  # ì†ë„ê°€ ë¹„ì •ìƒì ì¼ ë–„
Â  Â  Â  if not (0 < next_speed < max_speed):
Â  Â  Â  Â  continue

Â  Â  Â  next_pos = cur_pos + next_speed
Â  Â  Â  # colì´ ë²”ìœ„ ë°– or ê¸ˆì§€ëœ ëŒ
Â  Â  Â  if not (0 < next_pos < col) or next_pos in small_stones:
Â  Â  Â  Â  continue

Â  Â  Â  dp[next_speed][next_pos] = min(dp[next_speed][next_pos], dp[cur_speed][cur_pos] + 1)  

#############################################################################
answer = float('inf')
for row in dp:
Â  val = row[target_stone]
Â  if val < answer:
Â  Â  answer = val

print(-1 if answer == float('inf') else answer)
```


âœ”**ì„±ëŠ¥ê°œì„ ** 
1. **Python3 ê¸°ì¤€**
	- ![Pasted image 20250805113520.png](/img/user/supporter/image/Pasted%20image%2020250805113520.png)
	- **ê°œì„  ê²°ê³¼ : 35% ì„±ëŠ¥ ê°œì„ **(2440ms â¡ 1584 ms)
	  
2. **pypy ê¸°ì¤€** 
	- ![Pasted image 20250805113459.png](/img/user/supporter/image/Pasted%20image%2020250805113459.png)
	- **ê°œì„  ê²°ê³¼ : 35% ì„±ëŠ¥ ê°œì„ **(376ms â¡ 248ms)


### GPT ë‹µ (BFS ë²„ì „)

> ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ì½”ë“œë¥¼ ë³´ê³ , GPTì½”ë“œë¥¼ ë³´ë‹ˆ ì´ ë¬¸ì œëŠ” ê±°ì˜ BFSë¡œ í‘¸ëŠ”ê²Œ ì •ì„ì´ë¼ê³  í•œë‹¤.
> (ê·¼ë° ì§€ê¸ˆ í‚¤ì›Œë“œê°€ DPë¼ DPë¡œ í’€ì–´ë²„ë¦° ê²ƒ)


### íƒ€ì¸ ë‹µ (DP ê°„ê²° ë²„ì „)

```PYTHON
from math import sqrt
import sys

target,cannot_num=list(map(int,sys.stdin.readline().strip().split()))
cannot_set=set(int(sys.stdin.readline().strip()) for _ in range(cannot_num))


jump_max=int(sqrt(2*target))+1 # ìµœëŒ€ë¡œ ë›¸ìˆ˜ ìˆëŠ” ë²”ìœ„
dp=[[float('inf')]*(jump_max+2) for _ in range(target+1)] # dp[stone][jump_dist] stoneê¹Œì§€ jump_distë¡œ ê°”ì„ ë•Œ ìµœì†Œ ë¹„ìš©

dp[1][0]=0
for cur in range(2,target+1): # ì–´ë””ì— ë„ì°©í–ˆëŠ”ì§€
    if cur in cannot_set:
        continue

		for jumped in range(1,jump_max+1):# ëª‡ì¹¸ ì•ìœ¼ë¡œ ë›°ì—ˆì–´ì„œ ì™”ëŠ”ì§€
        if cur-jumped<1:
            break
            
        dp[cur][jumped]=
			        min(dp[cur-jumped][jumped+1],dp[cur-jumped][jumped],dp[cur-jumped][jumped-1])+1

# print(*dp,sep="\n")
result=min(dp[target])
print(result if result!=float('inf') else -1)
```
