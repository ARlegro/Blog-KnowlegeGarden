---
{"dg-publish":true,"permalink":"/DevStudy/Backend/Java/Effective Java/Obect Create_Destroy(κ°μ²΄ μƒμ„±κ³Ό νκ΄΄)/μ •μ  ν©ν† λ¦¬ λ§¤μ„λ“λ¥Ό κ³ λ ¤ν•΄λΌ/","noteIcon":"","created":"2025-12-03T14:52:49.280+09:00","updated":"2025-12-13T10:50:09.175+09:00"}
---



ν΄λμ¤μ μΈμ¤ν„΄μ¤λ¥Ό μ–»λ” μ •ν†µμ μΈ μλ‹¨μ€ public μƒμ„±μμ΄λ‹¤.
ν•μ§€λ§ λ‹¤λ¥Έ κΈ°λ²•λ„ μλ‹¤.(βλ°λ“μ‹ μ“°λΌλ” κ²ƒμ€ μ•„λ‹λ‹¤ - μ¥/λ‹¨μ μ΄ μ΅΄μ¬)

>λ°”λ΅, μ •μ  ν©ν† λ¦¬ λ©”μ„λ“μ΄λ‹¤.


## 1.  μ •μ  ν©ν† λ¦¬ λ©”μ„λ“λ€?


μ‚¬μ©ν–λ μμ‹
```java
@Entity  
public class Order extends BaseEntity {

		private Order(Customer customer) {  
		  this.customer = customer;  
		}  
		  
		public static Order createOrder(Customer customer, Product product, int quantity) {  
		  Order order = new Order(customer);  
		  order.addProduct(product, quantity);  
		  return order;  
		}  
		  
		private void addProduct(Product product, int quantity) {  
		  // orderProduct μƒμ„±  
		  int totalPrice = product.calculatePriceForQuantity(quantity);  
		  OrderProduct orderProduct = new OrderProduct(this, product, totalPrice);  
		  orderProducts.add(orderProduct);  
		  
		  // λ°°μ†΅ μƒμ„±  
		  Delivery delivery = new Delivery(customer.getAddress(), orderProduct);  
		  orderProduct.assignDelivery(delivery);  
		}
```
μ£Όλ¬Έμ΄ λ“¤μ–΄μ¤λ©΄ `Order -> OrderItem -> Delivery` κ°€ μƒμ„±λκ³  μ„Έν…λλ” λ΅μ§μ΄μ€λ‹¤.
λ§μ•½ Orderκ°€ κ°λ³„ μƒμ„±μλ΅ λμ–΄ μκ³  μ„ 3κ°μ μΈμ¤ν„΄μ¤λ¥Ό κ°λ³„μ μΌλ΅ μƒμ„± μ‹ μ΄λ ‡κ² μ‘μ§‘λ„λ¥Ό λ†’μΌ μ μ—†μ—μ„ κ²ƒμ΄λ‹¤.

---
## 2.  μ •μ  ν©ν† λ¦¬ μ¥μ  

### 2.1.  μ΄λ¦„μ„ κ°€μ§ μ μλ‹¤.
- μƒμ„±μ μμ²΄λ§μΌλ΅λ” λ°ν™λ  κ°μ²΄μ νΉμ„±μ„ μ λ€λ΅ μ„¤λ…ν•μ§€ λ»ν•λ‹¤. 
- λ°λ©΄, μ •μ  ν©ν† λ¦¬ λ©”μ„λ“λ” μ΄λ¦„λ§ μ μ§€μΌλ©΄ λ°ν™λ  κ°μ²΄μ νΉμ„±μ„ μ‰½κ² λ¬μ‚¬ κ°€λ¥ 
- **κΈ°λ³Έ μƒμ„±μμ ν•κ³„ π’Άμμ‹** 
	- **λ‘κ°™μ€ μƒμ„±μ, νλΌλ―Έν„° κ°’μ΄λΌλ„ λ‹¤λ¥Έ κ°’μ„ κ°€μ§„ μΈμ¤ν„΄μ¤λ¥Ό λ°ν™ν•  μ** μλ”λ° μ΄λ΄ κ²½μ° κΈ°λ³Έ μƒμ„±μλ΅λ” ν•κ³„κ°€ μλ‹¤.

---
### 2.2.  νΈμ¶λ  λ•λ§λ‹¤ μΈμ¤ν„΄μ¤λ¥Ό μƒλ΅ μƒμ„±ν•μ§€λ” μ•μ•„λ„ λ¨ 
- **ν•„μ”ν•  λ•λ§** μΈμ¤ν„΄μ¤λ¥Ό μƒλ΅ λ§λ“¤κ³ , μƒν™©μ— λ”°λΌ **λ―Έλ¦¬ λ§λ“¤μ–΄λ‘” κ°μ²΄λ¥Ό μ¬μ‚¬μ©**ν•κΈ°λ„ ν•λ‹¤(βλ°λ“μ‹ κ·Έλμ•Ό ν•λ”κ±΄ μ•„λ‹λ‹¤) 
- μΌλ°μ μΌλ΅ μ“°λ” Boolean, ResponseEntity.ok(), HttpClient.newHttpClient() κ°€ μ΄λ° μ›λ¦¬λ‹¤.
```JAVA 
public final class Boolean implements ... {  

		// β… λ―Έλ¦¬ λ§λ“¤μ–΄ λ†“μ•μ 
    public static final Boolean TRUE = new Boolean(true);  
    public static final Boolean FALSE = new Boolean(false);

		public static Boolean valueOf(boolean b) {  
		    return (b ? TRUE : FALSE);  
		}
```
- Booleanκ°μ²΄λ¥Ό λ―Έλ¦¬ μƒμ„±ν•΄ λ†“μ•„μ„ `valueOf`λ¥Ό νΈμ¶ν•  λ•λ§λ‹¤ μƒλ΅μ΄ κ°μ²΄λ¥Ό μƒμ„±ν•μ§€ μ•λ”λ‹¤.

| κµ¬λ¶„      | new                 | μ •μ  ν©ν† λ¦¬ λ©”μ„λ“ (`valueOf`, `of` λ“±) |
| ------- | ------------------- | ------------------------------ |
| μΈμ¤ν„΄μ¤ μƒμ„± | λ¬΄μ΅°κ±΄ μƒλ΅ μƒμ„±           | μƒν™©μ— λ”°λΌ μ¬μ‚¬μ© κ°€λ¥                  |
| μ„±λ¥      | μƒλ€μ μΌλ΅ λΉ„ν¨μ¨           | ν¨μ¨μ  (μΊμ‹±/μ¬μ‚¬μ©)                   |
| μμ‹      | `new Boolean(true)` | `Boolean.valueOf(true)`        |
> [!WARNING] ν©ν† λ¦¬ μΊμ‹/μ¬μ‚¬μ© μ‹ μ£Όμν•  μ  
> - μ¬μ‚¬μ©ν•λ” κ°μ²΄λ” λ¶λ³€ν•΄μ•Ό ν•λ‹¤ β—
> - Thread Safeν•΄μ•Ό ν•λ‹¤.
>  > ν©ν† λ¦¬ μ¬μ‚¬μ©μ„ ν†µν•΄ λ°ν™λ κ°μ²΄λ“¤μ€ λ™μΌν• μ£Όμ†κ°’μ„ κ°€μ§€κΈ° λ•λ¬Έμ— **λ³€κ²½μ΄ κ°€λ¥ν•λ©΄ Side Effectκ°€ λ°μƒ**ν•  μ μλ‹¤.

>[!tip] κ°μ²΄κ°€ λ¶λ³€μ΄κ³  Thread-Safe ν•  κ²½μ° ν©ν† λ¦¬ μ¬μ‚¬μ© ν¨ν„΄ κ°€λ¥μ΄λ‹¤.
>- κ·Έλ ‡μ§€ μ•λ‹¤λ©΄, λ‹¨μ μ •μ  ν©ν† λ¦¬ λ©”μ„λ“λ§ μ‚¬μ© 


---
### 2.3.  λ°ν™ νƒ€μ…μ ν•μ„ νƒ€μ… κ°μ²΄λ¥Ό λ°ν™ν•  μ μλ” λ¥λ ¥μ΄ μλ‹¤.
#μ μ—°μ„±  #κµ¬ν„μ²΄_μΊ΅μν™”  #νΈμ¶-μƒμ„νƒ€μ…λ§μμ΅΄  #κ²°ν•©λ„λ‚®μ¶”κΈ° #ν™•μ¥μ„±λ†’μ΄κΈ° 

>**μΈν„°νμ΄μ¤λ‚ μ¶”μƒ ν΄λμ¤**λ¥Ό λ°ν™ νƒ€μ…μΌλ΅ μ§€μ •ν•΄ λ†“κ³ , **λ‚΄λ¶€μ—μ„λ” μ›ν•λ” ν•μ„ νƒ€μ… κ°μ²΄λ¥Ό κ³¨λΌμ„ λ¦¬ν„΄**ν•  μ μλ‹¤.
- λ°ν™ νƒ€μ… = μƒμ„ νƒ€μ… But μ‹¤μ  λ°ν™ νƒ€μ… = ν•μ„ νƒ€μ…   <<< μ΄λ° ν¨ν„΄ 
- **μ¥μ ** 
	- **μ μ—°μ„±μ΄ λ†’λ‹¤** β΅ ν΄λΌμ΄μ–ΈνΈλ” μΈν„°νμ΄μ¤λ§ μ•κ³  μμΌλ©΄ λλ‹¤. (κ²°ν•©λ„ λ‚®κ³  ν™•μ¥μ„± λ†’μ΄λ”)

μλ¥Ό λ“¤μ–΄, μ•„λμ™€ κ°™μ΄ μΈν„°νμ΄μ¤μ™€ κµ¬ν„μ²΄κ°€ μλ‹¤κ³  κ°€μ •ν•μ 
```JAVA 
// μΈν„°νμ΄μ¤
public interface Animal {  
}

public class Dog implements Animal{  
  
    @Override  
    public void bark() {  
        System.out.println("λ©λ©");  
    }

public class Cat implements Animal{  
  
    @Override  
    public void bark() {  
        System.out.println("μ•ΌμΉ");  
    }
```


μ΄ μƒν™©μ—μ„ μ •μ  ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄μ„ ν™μ©ν•΄μ„ μΈν„°νμ΄μ¤μΈ Animalμ„ λ°ν™ν•΄λ³΄μ 
```java
public interface Animal {  
  
    void bark();  
  
    static Animal getAnimal(String type){  
        String upperType = type.toUpperCase();  
        if ("DOG".equals(upperType)) {  
            return new Dog();  
        } else {  
            return new Cat();  
        }  
    }
```
ν΄λΌμ΄μ–ΈνΈλ” κ° κµ¬ν„μ²΄μ μƒμ„± λ°©μ‹μ— λ€ν•΄ μ•μ§€ λ»ν•΄λ„ λλ‹¤. μ •μ  ν©ν† λ¦¬ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ” AnimalFactoryλ§ μ•λ©΄ μ΄ factoryκ°€ typeμ— λ”°λΌ μ•μ•„μ„ μ‹¤μ  κµ¬ν„μ²΄λ¥Ό μƒμ„±ν•΄μ£Όκ³  μƒμ„ νƒ€μ…μΌλ΅ λ°ν™ν•΄μ¤€λ‹¤.
μ΄λ” OCPμ›μΉ™μ„ μ μ§€ν‚¨ μμ‹μ΄λ‹¤.

>[!tip] μ°Έκ³  : μΈν„°νμ΄μ¤μ—λ„ static-factory-method ν¨ν„΄ κ°€λ¥ 
>- μλ°” 8 μ΄μ „μ—λ” μΈν„°νμ΄μ¤μ— static methodλ¥Ό μ‚¬μ©ν•  μ μ—†μ—λ‹¤.
>- λ”°λΌμ„ μ„μ μμ‹μ²λΌ ν™μ©ν•λ ¤λ©΄ μ „μ© ν΄λμ¤(ex. factory)λ¥Ό λ§λ“¤μ—μ–΄μ•Ό ν–λ‹¤.
>- μλ°” 8 μ΄ν›„μ— μ΄λ ‡κ² ν•¨μΌλ΅μ¨
>	- μ•μ•„μ•Ό ν•  ν΄λμ¤ μ μ¤„μ–΄λ“¤κ³  
>	- API μλ„ μ¤„μ–΄λ“¬ (κ΄€λ ¨ APIλ„ μ΄λ° μ‹μΌλ΅ λ³€ν•¨)


> μ΄ ν¨ν„΄ λ„μ…ν• API μμ‹ 
> - `List.of, Set.of, Map.of`  <<< μΈν„°νμ΄μ¤ μμ²΄μ— λ©”μ„λ“ 
> - `WebCleint = WebClient.build` <<< WebClientλ” μΈν„°νμ΄μ¤μ΄μ§€λ§ μ‹¤μ  λ°ν™μ€ κµ¬ν„μ²΄


>[!tip] μ–Έμ  μ‚¬μ© κ°€λ¥ν• κΉ?
>μ‹¤μ λ΅ μΈν„°νμ΄μ¤μ—μ„ μ •μ  ν©ν† λ¦¬ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ” κ±°λ” λ³Έμ μ΄ μ—†κΈ΄ν•΄μ„ μ•μ•„λ³΄λ μ¤‘ 
>κΈ°λ³Έ κ°’μΌλ΅ λ‘ κµ¬ν„μ²΄λ¥Ό λ§λ“¤ λ• μ“°λ©΄ μΆ‹κ² λ‹¤λ” μƒκ°μ΄ λ“¤μ—λ‹¤.
```java
public interface Parent {
    int age();
    
    static Parent of(int age) {
      return new DefaultParent(age);
    }
```

---
### 2.4.  μ…λ ¥ λ§¤κ°λ³€μμ— λ”°λΌ λ§¤λ² λ‹¤λ¥Έ ν΄λμ¤μ κ°μ²΄λ¥Ό λ°ν™ν•  μ μλ‹¤.

3λ² μμ‹μ—μ„ λ΄¤λ“―μ΄, λ°ν™ νƒ€μ…μ ν•μ„ νƒ€μ…μ΄κΈ°λ§ ν•λ‹¤λ©΄ μ–΄λ–¤ ν΄λμ¤μ κ°μ²΄λ¥Ό λ°ν™ν•΄λ„ μƒκ΄€μ΄ μ—†λ‹¤.
κ·Έλ ‡κΈ° λ•λ¬Έμ— ν΄λΌμ΄μ–ΈνΈλ” λ‹¨μν κ°’μ„ μΈν„°νμ΄μ¤μ— λ„κ²¨μ£Όκ³  κ·Έ κ°’μ— λ”°λΌ λ‹¤λ¥Έ κ°μ²΄λ¥Ό μƒμ„±ν•λ” κ²ƒμ€ μ •μ  ν©ν† λ¦¬ λ©”μ„λ“ λ‚΄λ¶€μ—μ„ μ§„ν–‰ν•λ©΄ λλ‹¤.

## 3.  μ •μ  ν©ν©ν† λ¦¬ λ©”μ„λ“ λ‹¨μ  π’Ά

### 3.1.  μƒμ†μ΄ μ ν•λλ‹¤.

μƒμ†μ„ ν•λ ¤λ©΄ publicμ΄λ‚ μµμ†ν• protected μƒμ„±μκ°€ ν•„μ”ν•λ‹¤.
λ”°λΌμ„, μ •μ  ν©ν† λ¦¬ λ©”μ„λ“λ§ μ κ³µν•λ©΄ ν•μ„ ν΄λμ¤λ¥Ό λ§λ“¤ μ μ—†λ‹¤.

### 3.2.  API μ„¤λ…μ— λ“¤μ–΄λ‚ μμ§€ μ•λ‹¤. (ex. JAVA DOC)

λ‹¨μ μƒμ„±μλ” java docμ— μλ™μΌλ΅ νλΌλ―Έν„°μ™€ λ°ν™κ°’ λ“±μ΄ λ°μλλ‹¤.
ν•μ§€λ§, μ •μ  ν©ν† λ¦¬ λ©”μ„λ“ λ°©μ‹μ€ Java Docμ— λ…μ‹λμ§€ μ•μΌλ―€λ΅ μ‚¬μ©μκ°€ μΈμ¤ν„΄μ¤ν™” λ°©μ‹μ„ λ”°λ΅ μ•μ•„λ΄μ•Ό ν•λ‹¤.

## 4.  λ…λ… λ°©μ‹ 

| λ©”μ„λ“ μ΄λ¦„                        | μ©λ„                          | νΉμ§•                                 | μμ‹                                                      |
| ----------------------------- | --------------------------- | ---------------------------------- | ------------------------------------------------------- |
| **`from`**                    | **ν•λ³€ν™**                     | λ§¤κ°λ³€μ 1κ° β†’ λ‹¤λ¥Έ νƒ€μ…μ„ ν„μ¬ νƒ€μ…μΌλ΅ λ³€ν™        | `Date.from(Instant instant)`                            |
| **`of`**                      | **μ§‘κ³„ / μ΅°ν•©**                 | μ—¬λ¬ λ§¤κ°λ³€μ β†’ μƒ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±               | `EnumSet.of(E first, E... rest)`                        |
| **`valueOf`**                 | **ν•λ³€ν™ (fromκ³Ό μ μ‚¬)**          | κΈ°μ΅΄ κ°’μΌλ΅λ¶€ν„° ν•΄λ‹Ή νƒ€μ… μƒμ„± (λ€μ²΄λ΅ `String` λ“±) | `Integer.valueOf(String s)`                             |
| **`getInstance`**             | **μΊμ‹±λ μΈμ¤ν„΄μ¤ λ°ν™**             | μΈμ¤ν„΄μ¤λ¥Ό μƒλ΅ λ§λ“¤μ§€ μ•κ³  μ¬μ‚¬μ©ν•  κ²½μ°.           | `Calendar.getInstance()`                                |
| **`create` or `newInstance`** | **μƒ μΈμ¤ν„΄μ¤ λ¬΄μ΅°κ±΄ μƒμ„±**           | ν•­μƒ μƒλ΅μ΄ κ°μ²΄λ¥Ό λ°ν™                      | `Class.newInstance()`                                   |
| **`getType`**                 | **ν©ν† λ¦¬ λ©”μ„λ“ + λ°ν™ νƒ€μ… μ¨κΉ€**      | ν©ν† λ¦¬ ν΄λμ¤ μ•μ—μ„ λ°ν™ νƒ€μ…μ΄ λ‹¤λ¥Έ κ²½μ°           | `FileStore fs = Files.getFileStore(path)`               |
| **`newType`**                 | **getTypeκ³Ό λ™μΌν•λ μƒ κ°μ²΄ λ³΄μ¥**   | `getType`κ³Όμ μ°¨μ΄λ” ν•­μƒ μƒ μΈμ¤ν„΄μ¤λ¥Ό λ°ν™      | `BufferedReader reader = Files.newBufferedReader(path)` |
| type                          | **getType, newTypeμ κ°„κ²° λ²„μ „** |                                    | `List<Animal> animals = Collections.list(animals)`      |

- `getInstance` :  λ§¤κ°λ³€μκ°€ μ—†μΌλ©΄ μƒλ΅μ΄ μΈμ¤ν„΄μ¤ λ°ν™, λ§¤κ°λ³€μκ°€ μμΌλ©΄ λ§¤κ°λ³€μλ΅ λ…μ‹ν• μΈμ¤ν„΄μ¤λ¥Ό λ°ν™(κ·Έλ¬λ‚ λ§¤κ°λ³€μμ™€ κ°™μ€ μΈμ¤ν„΄μ¤λ” μ•„λ‹λ‹¤)
  

>[!tip] from vs valueOf

| λΉ„κµ ν•­λ© | `from`                           | `valueOf`                                          |
| ----- | -------------------------------- | -------------------------------------------------- |
| μ£Ό μ©λ„  | λ…μ‹μ  ν•λ³€ν™                          | λ¬Έμμ—΄ β†’ κ°μ²΄ λλ” λ‹¤λ¥Έ ν•λ³€ν™                                 |
| μλ―Έ    | **"λ‹¤λ¥Έ νƒ€μ… β†’ λ‚"**                  | **"λ¬Έμμ—΄/κΈ°μ΅΄ κ°’ β†’ λ‚"**                                 |
| μμ‹    | `Instant.from(TemporalAccessor)` | `Boolean.valueOf("true")`, `Integer.valueOf("42")` |
