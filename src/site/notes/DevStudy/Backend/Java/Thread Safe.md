---
{"dg-publish":true,"permalink":"/DevStudy/Backend/Java/Thread Safe/","noteIcon":"","created":"2025-12-03T14:52:49.387+09:00","updated":"2025-12-13T10:32:37.428+09:00"}
---



## 0.1.  정의 및 필요이유 

**✅정의** 
스레드 세이프는 멀티스레드 환경에서 여러 스레드가 동시에 어떤 코드나 데이터에 접근하더라도 문제(데이터 변경, 오류 등)가 발생하지 않고, 그 결과가 항상 올바르게 보장됨을 의미 

> Thread Safe Code ➡ 멀티스레드라도 공유 자원의 일관성과 무결성이 유지되는 코드

**✅필요 이유** 
Thread Safe하지 않으면 여러 스레드가 공유 자원(ex. 전역 변수, static 변수, DB 연결 등)에 동시에 접근하여 값을 읽거나 쓸 때 문제가 발생할 수 있다.
DB의 동시성 부분에서 배운거처럼, 한 스레드가 특정 데이터를 업데이터 하고 있을 때, 다른 스레드가 그 데이터를 읽으면 일관성이 깨지는 문제가 발생할 수 있다.(경쟁 조건)
따라서, 이런 오류/버그를 일으키지 않기 위해 Thread Safe한 Code를 사용하는 것이 중요하다.


---
## 0.2.  동기 vs 비동기 환경에서의 Thread Safe 

### 0.2.1.  동기 환경 
동기 처리는 작업이 순차적으로 진행되어, 한 작업이 완료될 때까지 다음 작업이 시작되지 않는다.
그렇다고 동기 환경이 Thread Safe한 것은 아니다.(물론 비동기보다는 이 문제가 덜 하다.)
동기 환경에서도 요청이 여러 개일 수 있기에 Thread가 여러 개일 수 있다.

해결 방법
- 일반적으로 동기 방식은 `synchronized`나 Lock같은 동기화 메커니즘을 통해 여러 스레드가 공유 자원에 동시에 접근하는 것을 막아 Thread Safe Code를 만든다.

### 0.2.2.  비동기 환경 
비동기 환경에서는 여러 Thread가 서로 다른 시점에 자유롭게 작업을 진행하므로, 공유 자원에 대한 동시 접근 가능성이 높아진다.
따라서, 비동기 환경에서는 Thread Safe를 명시적으로 고려하고 적절한 동기화 기법을 사용하여 공유 자원에 대한 '경쟁 조건'을 반드시 방지해야 한다.

> 비동기 작업은 Thread Safe를 보장하지 않고 비동기 환경은 동시성이 높으므로 스레드 세이프에 대해 개발자가 더욱 신경써야한다.

---
## 0.3.  동기 환경 해결 예시

#synchronized

자바의 synchronized 키워드는 N개의 Thread가 동시에 공유 자원에 접근하는 것을 제어해서 Race Condition을 방지하는 동기화 메커니즘을 제공한다.


