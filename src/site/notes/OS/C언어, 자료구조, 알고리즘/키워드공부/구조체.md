---
{"dg-publish":true,"permalink":"/OS/C언어, 자료구조, 알고리즘/키워드공부/구조체/","noteIcon":"","created":"2025-08-07T21:05:08.807+09:00","updated":"2025-08-18T01:06:32.584+09:00"}
---



> C에서의 구조체(Struct)는 클래스와 흡사한 개념

### 구조체란? 
#struct 
공식 레퍼런스 : https://en.cppreference.com/w/c/language/struct.html

#### ✅개념 
 > 서로 **다른 타입의 변수들을 하나로 묶어서** 사용할 수 있도록 해주는 **사용자 정의 자료형** 
- 이 변수들은 정해진 순서대로 
- Union과 달리 변수들의 저장 공간이 겹치지 않는다. 

**preview**
```c
#include<stdio.h>
#include<string.h>

// 1. 구조체 정의 
struct Student {
  // c는 string이 없어서 char배열로
  char name[20];
  int user_id;
  double score;
};

int main(void) {
	// 2. 구조체 변수 선언 
  struct Student student1;

	// 3. 구조체 값 할당 
  // 문자열을 배열에 복사 시 "strcpy()"를 사용
  strcpy(student1.name, "Alce");
  student1.user_id = 23;
  student1.score = 90.5;

  printf("Name: %s\n", student1.name);
  printf("User ID: %d\n", student1.user_id);
  printf("Score: %.1f\n", student1.score);
  return 0;
}

//Name: Alce
//User ID: 23
//Score: 90.5
```


#### ✔구조체 정의 방법
**방법 1.** `struct [속성들] 구조체이름`
```c
struct Student {
		char name[20];
		int user_id;
		double score;
};
```
- Student라는 **새로운 타입을 만든 것** 

**방법 2. 선언만** 
```c
struct Student;
```
- 이렇게 **구조체 이름만 선언도 가능**(실제 내용은 나중에 정의)



#### ✔구조체 변수 선언 및 값 할당 
```c
#include<string.h>
	// 변수 선언 
	struct Student student1;

  // 문자열을 배열에 복사 시 "strcpy()"를 사용
  strcpy(student1.name, "Alce");
  student1.user_id = 23;
  student1.score = 90.5;
```
- student1이라는 구조체 변수를 선언한다
- 그 후 보통은 프로퍼티 접근법을 통해 값을 대입한다

>[!tip] C에서 문자열 다루기 
>- C는 string이라는 고유한 타입이 없고, `char[]`로 다룬다.
>- 다루는 여러 방법이 있지만 여기서는 단순히 값을 배열에 복사하는 방식 사용
>- 문자열을 배열에 복사하는 방법 `strcpy(student1.name, "Alce");`
>	- `strcpy()` : 문자열 복사 시 사용하는 함수 

 

>[!EXAMPLE] 포인터 문법 오해 
>- 타입에 `*`를 부티안 변수에 `*`를 붙이나 똑같이 변수에 포인터 생기는 것임 
>- 아래의 2가지는 동일한 것 
>```c
>struct Node* next;
>struct Node *next;
>// next 변수는 Node 구조체를 가리키는 포인터
>```

#### 선언과 동시에 초기화 
```c
struct Student {
  char name[20];
  int user_id;
  double score;
} st = {"Alce", 23, 90.5}; // 선언 + 할당 

int main(void) {
  printf("Name: %s\n", st.name);
  printf("User ID: %d\n", st.user_id);
  printf("Score: %.1f\n", st.score);


# 또는 아래도 가능 
struct Student st = {"Alce", 23, 90.5};
```


#### 활용 예시 

```c
#include <stdio.h>
#define SIZE 5  // 사이즈 고정

struct Student {
  int number;
  char name[20]; // 한글 기준 최대 10글자(한글은 2byte)
  double grade;
};

int main(void){
  // 구조체 배열 - 변수명 = list
  struct Student list[SIZE];
  int i;
  for(i=0; i < SIZE; i++){
    printf("학번을 입력하세요 : ");
    scanf("%d", &list[i].number);
    printf("이름을 입력하세요 : ");
    scanf("%s", &list[i].name);
    printf("학점을 입력하세요 : ");
    scanf("%lf", &list[i].grade);
  }
  return 0;
```


### 추가 : typedef 
> 자료형의 별칭을 만드는 기능

구조체 변수 선언 시 일일이 `struct` 키워드를 붙이는 것이 귀찮은데 생략할 수 있을 것 
```c
typedef struct 구조체이름 {
    자료형 멤버이름;
} 구조체별칭;
```
- 구조체 이름과 구조체 별칭은 겹쳐도 되나, 만약 그렇다면 구조체 이름에 `_`를 붙여 구분하기도 한다.
- **별칭 지정 방법** : `} (닫는 중괄호)`와 `;(세미콜론)`사이에 구조체 별칭을 지정하면 된다

```C
typedef struct _Teacher{
  char name[20];
  int user_id;
  double score;
} Teacher;

int main(void) {

  Teacher t1; // 자바처럼 사용 
  
  strcpy(t1.name, "Joe");
  t1.user_id = 23;
  t1.score = 90.5;
```


### 구조체 접근법 - 화살표 연산자 
> 구조체 변수를 포인터로 사용하면 화살표 연산자 必
- 이전에는 간단하게 점(.)을 이용해서 구조체 변수에 접근했다. 
- But 구조체가 포인터라면 그렇게 접근 불가능이므로 화살표 연산자 必
- 즉, **구조체 포인터가 가리키는 주소에 데이터를 할당하기 위해서는 "화살표 연산"을 사용해야** 한다.
- `포인터 이름 -> 멤버변수명 = 값`

```c
typedef struct _Teacher{
  char name[20];
  int user_id;
  double score;
} Teacher;

int main(void) {
	// 
  Teacher *t1 = malloc(sizeof(Teacher));
  
  strcpy(t1->name, "KKK");
  t1->user_id = 22;
  t1->score = 99.5;

  printf("Name: %s\n", t1->name);
  printf("User ID: %d\n", t1->user_id);
  printf("Score: %.1f\n", t1->score);
```


>[!tip] 화살표 연산 없이 역참조로도 할당 가능 
>`(*포인터이름).멤버변수명 = 값`

