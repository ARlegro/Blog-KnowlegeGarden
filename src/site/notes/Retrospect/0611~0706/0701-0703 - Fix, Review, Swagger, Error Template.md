---
{"dg-publish":true,"permalink":"/Retrospect/0611~0706/0701-0703 - Fix, Review, Swagger, Error Template/","noteIcon":"","created":"2025-07-06T17:22:31.761+09:00","updated":"2025-07-13T21:36:56.700+09:00"}
---




크래프톤에 가기 전 인원이 부족한 팀원들을 도와주고자 시작한 팀 프로젝트
0631에 일주일 동안 입원해있던 한 명의 팀원이 왔다.
처음 와서 하는 말이 'xx님 뭐하시냐? 코드 그만 짜세요. 어차피 가시면 못 물어보니까 더 개입하면 안되신다. 다른 사람이 모르는 코드 다 지워달라'고 하길래 대충 다 지우고 검토도 안하고 던져줬었다.

애초에 프로젝트 참여 못한다 했었는데 나머지 팀원들 어려워하시고 도와주시면 감사하겠다 하시길래 호의로 도와줬었는데 프로젝트 리딩도 안해오고 ERD도 안보시고 와서 처음와서 하는 말이 저게 뭐지?? 그 외 더 사회성 없으신 멘트들 많았는데 뭐... 나는 내일 떠날 사람이긴한데 본인이 알아서 하신다니 제꺼 다 지우대충 던져주고 왔다. 

---
### 오류 발견 시작 
그래도 내 코드들을 내 Repository에 남겨놓고 테스트 코드 짜면서 Fix/Review를 시작했다.
이전에 Controller 인증 부분 테스트 코드는 완성시켜놨고 통과 됐었는데 이번에 재실행 시키니 갑자기 계쏙 오류가 떴다...
아?? 내가 마지막에 추가했던 코드로 인해 security설정들이 다 깨져서 실패하는 것이였다.
```YAML
server:  
  servlet:  
    context-path: ${SPRING_APP_NAME:/api}
```
- 좀 더 편하게 하라고 마지막에 팀원들에게 던져주기 전에 추가한 설정인데 이걸로 인해서 다른 설정들도 다 바꿔야 하는 상황 발생 
- 그냥 시간도 없고 그러니 저 설정을 없애기로 했다. 그러고 테스트하니 성공 ㅎㅎ 

### 테스트 코드 + Swaager Editor - 오류 발견 
컨트롤러 테스트코드를 짜면서 내가 실수했던 코드들이 좀 많이 발견되었다.

또한 Swagger를 공부하고 Swagger Editor로 직접 작성하면서 오류들을 발견할 수 있게 되었다.

너무 빨리 구현하려해서 그런가? 아니면 너무 오랜만에 작성해서 그런가 간단한 실수들도 많이 나왔다.

이번에 이렇게 오류를 내고 나니 새삼 TDD까지는 아니더라도 TestCode를 꾸준히 작성하고 신중히 코드를 짜는 습관을 가져야겠다는 생각이 들었다. 
너무 속도에만 신경쓰다보니 이런 실수를?하는 코드들이 많이 발견됐는데, 다음 번에는 신경써서 해야겠다.

그리고 이번에 Test를 하면서 TestContainer를 복습했는데 다른 강의들을 보면서 더 좋은 설정법을 알게되었다. 기존에는 TestContainer설정 시 Username, password, host 등을 하나하나 다 지정해줬어야 했는데 최근 버전에서는 아주 간단히 설정함으로써 test도 할 수 있다는 것을 알게되었다. 
```java
@TestConfiguration(proxyBeanMethods = false)  
class TestcontainersConfiguration {  
  
  @Bean  
  @ServiceConnection  //⭐ 3.1부터 도입된 핵심 애노테이션 
  PostgreSQLContainer<?> postgresContainer() {  
				return new PostgreSQLContainer<>(DockerImageName.parse("postgres:17.2-alpine")); 

```

또한 Swagger를 공부하면서 되게 재밌는 경험이였다.
이전에는 Spring에서 Swagger 라이브러리를 사용해서 프로젝트 코드상에서 swagger를 만드는 경험만 했었고 Swagger에 대해서 자세히 알지는 못했다.
이번에도 그런 식으로라도 문서화 작업을 시도하고자 하는 마음에 Swagger를 공부햇다.
이번엔 진짜 단순히 라이브러리 사용법이 아니라 Swagger 자체에 대해 공부를 하면서 익히려고 했다.
Swagger의 역사, 개념, 수동작성(yaml) 방법 등을 공부하면서 내가 구현한 API들을 하나하나 직접 작성해봤다.
![Pasted image 20250706174636.png](/img/user/supporter/image/Pasted%20image%2020250706174636.png)

 
---
### Error Template

프로젝트의 마지막은 Error처리 커스텀
너무 옛날에 했던거고 내가 했던 방법 말고 코드잇의 모법답안이 가진 방법대로 Error 아키텍쳐를 구현해보고자 Codeit 프로젝트를 분석했다.
상속의 구조... Map구조 디테일 add... static.... 분석 완료 후 완성했다.
공부 내용 나중에 추가(PC 옵시디언에 적혀 있어서 링크 추가가 안되는 중)

이게 구조만 이해하면 나중에는 노가다라서 되게 빠르게 끝나긴했다.
근데 뭔가 에러 커스텀하니 있어보이는 느낌(사실 별거 아닌데ㅎ)

---
### 마무리 
암튼 이번 경험은 security, Error처리, Swagger를 복습하고 심화과정도 공부할 수 있는 좋은 기회였던 것 같다.
이제 입소까지 3일정도 남았는데 그동안은 뇌를 비우려한다.
지난 6개월?간 주말도 없이 너무 달려왔는데 다시 5개월간 더 빠르게 달려야 하니 잠깐의 휴식을 취하려 한다
